---
layout: post
title: "كيفية اختيار السيرفر المناسب لمؤسستك"
tags: [شبكات, أجهزة]
date: 2024-01-22
img: cyberspace-2784907_1280.webp
permalink: blog/:title/
---

يتطلب تحديد مواصفات السيرفر لنشاطك التجاري فهم احتياجات مؤسستك أو شركتك. أسرد لك فيما يلي بعض النقاط الرئيسية التي تساعدك في مهمة تحديد مواصفات السيرفر:

* Toc
{:toc}

# تحديد أهداف واستخدامات السيرفر

يجب هنا تحديد المهام المطلوبة من السيرفر، هل هو لتخزين البيانات الضخمة؟ أو لاستضافة تطبيقات إدارية محددة ولإدارة قواعد البيانات وما إلى ذلك.

وأيضًا هل السرعة العالية مطلوبة هنا؟ وكم عدد المستخدمين الذين سيصلون إلى السيرفر؟ وهل الأمان مطلوب، وهل المعلومات التي سيخزنها حساسة؟

تفيدنا هذه المعلومات كثيرًا في تحديد مواصفات السيرفر وكذلك ملحقاته، فإذا أردنا سرعة وصول عالية للسيرفر مثلًا، فهذا يتطلب أكبال ethernet ذات نظاق ترددي (bandwidth) عالي، وفي هذا تفصيل، يكون مثلًا كبل Ethernet cat 6A بكفائته الكاملة ‬‬في حال لم يتجاوز طوله‬ ‫‪100‬‬ ‫متر، أما‬ ‫كبل‬ Ethernet cat 6 فيكون بكفائته الكاملة لغاية طول 55 متر.‬

أما إذا تطلب الأمر إجراء عمليات حسابية وبسرعة، فهذا يعني أننا نحتاج لمعالج قوي وبأنوية متعددة.

كذلك إذا تطلب وجود تطبيقات إدارية معينة، فيجب مراجعة متطلبات تلك البرامج.
احرص دائمًا على أن تكون مواصفات السيرفر أعلى من المواصفات المطلوبة، لتترك مجالًا لاستمرارية استخدام السيرفر في حال توسع نشاطك التجاري قليلًا وازدادت المتطلبات قليلًا.



# تحديد المواصفات المطلوبة

لنتحدث الآن عن كل قطعة من السيرفر على حدة:

* الذاكرة المؤقتة (RAM): يمكن أن تبدأ السعة هنا من 16 جيغابيات فأكثر بحسب الاستخدام المحدد، يجب عمومًا في السيرفرات أن تحوي الرامات بداخلها شريحة خاصة لتصحيح أخطاء الذاكرة، وعندها تدعى الرامات بذاكرة ECC، حيث لا يمكن التسامح بأخطاء حفظ أو نقل البيانات عادة في السيرفرات. يوجد كذلك أنواع للرامات، منها DDR3 و DDR4 والتي تتميز بسرعة أكبر من سابقتها حيث تصل لـ 34 جيغا في الثانية، وباستهلاك طاقة أقل. و DDR5،

    ويكون شكل الرام عمومًا مشابهًا للصورة التالية، وهي بحجم كف اليد تقريبًا:

![RAM](/assets/img/posts/RAM.webp)

   وتوضع هذه القطعة في المكان المخصص لها في اللوحة الأم (motherboard) في الحاسوب، حيث تحوي اللوحة الأم عادة مكان يتسع لقطعتين إلى أربعة من الرام، أو أكثر من ذلك، يسمى ذلك المكان memory slots. يظهر هذا المكان المخصص في الحجرات البرتقالية والصفراء أعلى يسار اللوحة الأم في الصورة التالية:


![motherboard](/assets/img/posts/motherboard.webp)


   يتم إعطاء سرعة الرام بالميغا هرتز، ولتحديد السرعة القصوى لها بالميغابايت يجب معرفة  الـ  Bus width الخاص بالرام، أي سعة الأسلاك الموصلة الخاصة بها، وهو عدد البتات التي يمكن إرسالها من الرام للمعالج بنفس اللحظة. وبالتالي إذا علمت أن سرعة الرام 1600 MHz وأن الـ Bus width هو 8 بايت (64 بت)، فتكون سرعة البيانات القصوى لتلك الرام هي:
1600 × 8 = 12800 MB/s
   أي يمكن أن تنقل أكثر من 12 جيغابايت في الثانية الواحدة.

* التخزين: يوجد اليوم باختصار نوعين رئيسيين من أقراص التخزين الدائمة، وهي أقراص HDD (اختصار لـ Hard Disk drive) وهي أقراص ممغنطة ميكانيكية تحتاج لدوران القرص داخلها للقراءة والكتابة. أصبحت هذه الأقراص قديمة نوعًا ما حيث تسبب تلك الحركة بطئًا في القراءة والكتابة. وبإزالة الحركة في أقراص SSD ( اختصارًا لـ Solid state drive) نحصل على سرعة أعلى في القراءة والكتابة، ونكون أزلنا ضجيج الحركة كذلك، ووفرنابعض الطاقة الكهربائية. من الأفضل اليوم انتقاء قرص SSD للسيرفر، وهو أساسًا الأكثر انتشارًا في زمننا هذا. أما من حيث السعة فبحسب المطلوب، ويُنصح عمومًا بـ 2 تيرابايت على الأقل.

* النسخ الاحتياطي: لا بد في حالة الاستخدام التجاري استخدام نظام للنسخ الاحتياطي. من المشهور تقنيات RAID للنسخ الاحتياطي، يوجد منها مثلا RAID 1 والتي تتطلب قرصي تخزين على الأقل، ويتم فيها نسخ البيانات من القرص الأول للثاني، أي تكرارها، وبهذا إذا تعطل أحد الأقراص تبقى البيانات موجودة على القرص الآخر. أما تقنية RAID 5 فتتطلب 3 أقراص على الأقل، ولا يتم فيها تكرار المعلومات، وبالتالي يتم الاستفادة من السعة للأقراص الثلاثة بشكل كامل دون تكرار، وإذا تعطل أحد الأقراص، يمكن من خلال القرصين الآخرين توليد بيانات القرص المتعطل من جديد. ولكن يجب تبديل القرص المتعطل مباشرة دون تأخير، كي لا يحدث عطل في قرص ثان وتضيع المعلومات. بينما تتطلب تقنية RAID 10 أربع أقراص على الأقل، ويتم فيها استخدام مزيج من التكرار والتوليد. وتتميز بأمان وأداء أعلى من سابقاتها.

   من المهم معرفة أن الأقراص جميعها يجب أن تكون بنفس السعة وبنفس السرعة لاستخدام خوارزميات النسخ الاحتياطي التلقائي المذكورة.

   وهذا كان بالنسبة للنسخ الاحتياطي داخل الموقع، أي في مكان تواجد السيرفر، ومن المستحسن إجراء نسخ احتياطي على أقراص خارج المنشأة التجارية، بحيث لو حصل حريق مثلًا لا قدَّر الله، تبقى البيانات موجودة في مكان ما.

* المعالج: تستخدم السيرفرات عادة معالجات قوية متعددة الأنوية وبسرعات عالية لساعة المعالج. من المعالجات المعروفة في هذه الحالة معالجات Intel Xeon و AMD EPYC. تتميز معالجات AMD عادةً برخص ثمنها مقارنة بمعالجات إنتل. ومع هذا، تكون معالجات AMD EPYC مرتفعة الثمن، لذا، يمكن بحسب متطلبات المشروع ولتخفيض التكلفة استخدام معالجات AMD Ryzen أو AMD Threadripper، فهي مناسبة عادةً للمنشآت الصغيرة والمتوسطة.  يجب الانتباه هنا إلى أن المعالج يجب أن يدعم ذواكر ECC التي ذكرناها سابقًا. تُظهر الصورة التالية شكل المعالج وهو موضوع على اللوحة الأم (motherboard):

![CPU](/assets/img/posts/CPU.webp)

   يحوي المعالج بداخله عدة قطع نذكر منها:

   * السجل (register):  وهو عبارة عن ذاكرة صغيرة منفصلة عن ذاكرة الحاسوب الرئيسية (RAM) بحيث يتمكن المعالج من الوصول لها بشكل أسرع. ويتم كذلك نسخ البيانات التي يتم استخدامها بشكل متكرر من الذاكرة الرئيسية إليه (إلى السجل) مما يسرع ويزيد من أداء تنفيذ البرنامج (الذي يتم تنفيذه). تُقاس السجلات بعدد البتات التي تتسع لها، فقد تكون 8 أو 32 أو 64 بت. ولكن أليست هذه مساحة صغيرة جدًا؟ نعم، ليست وظيفة السجل تخزين البيانات عمومًا، وإنما تخزين التعليمة الحالية للوصول لها بشكل أسرع بهدف تحسين أداء تنفيذ البرامج. يوضع السجل الخاص بالمعالج (processor register) داخل شريحة المعالج. 

   ونعم هناك سجلات عدة، كل سجل له وظيفته، مثل السجل الخاص بحفظ باقي القسمة. ومن هنا تفهم فائدة وسبب وجود السجل، فعند إجراء العملية الحسابية، بدلا من تخزين باقي القسمة في الذاكرة الرئيسية البعيدة عن المعالج والتي تعد بطيئة مقارنة بالمعالج وسرعة عملياته الحسابية، يتم تخزين باقي العملية في ذاكرة سريعة بجانب المعالج، وهذا يحسن من سرعة العمليات الحسابية.
    السجلات هذه هي أسرع أنواع الذواكر في الحاسوب على الإطلاق. ولكن لا تنسى أنها ذواكر مؤقتة، بل يكون السجل تحديدا عبارة عن ذاكرة مؤقتة جدًا جدًا (extremely temporary) بحيث أن البيانات فيه لا تدوم أكثر من ميلي ثانية!

   * ذاكرة المعالج (processor cache): ألم نتحدث عن الذاكرة للتو؟ نعم لقد تحدثنا عن السجل وقلنا أنه عبارة عن ذاكرة سريعة جدًا، ويوجد فرق شاسع في السرعة بين السجل وبين ذاكرة الحاسوب الرئيسية (رام)، وذكرنا أن الهدف من السجل تحسين الأداء، ولتحسين الأداء أكثر، هل تمانع من وضع ذاكرة متوسطة السرعة بين الرام والسجل؟ أعتقد أنك لا تمانع.

   تكون سرعة وسعة ذاكرة المعالج متوسطة بين الرام وبين سجل المعالج. وقد يوضع أيضًا ذاكرتان للمعالج، واحدة أصغر وأسرع تدعى primary cache توضع داخل المعالج، والثانية أكبر قليلًا وأبطأ تدعى secondary cache. وتبقى الأخيرة أسرع وأصغر من الرام. وأذكّر بأن كل هذه الذواكر مجرد وسيط لنسخ البيانات الأكثر استخدامًا للوصول السريع إليها وبالتالي لتحسين الأداء.

   ماذا لو لم توجد الذاكرة cache؟

   يقوم المعالج عادة بالعمليات بشكل سريع جدًا، تكون سرعة القراءة والكتابة على الذاكرة الرئيسية أبطئ من سرعة المعالج، وبالتالي عندما يريد المعالج قراءة التعليمة التالية لتنفيذها فسيبقى في الانتظار لحين القراءة من الذاكرة الرئيسية ووصول التعليمة إليه. ولذا يتم استخدام الذاكرة cache لتوفير وقت الانتظار ذلك.

   ولماذا كل هذه الذواكر؟ أليس السجل هو الأسرع، إذًا لماذا لا نوسّع مساحة السجل وانتهت المسألة؟

   توسيع مساحة السجل، تلك الذاكرة السريعة جدًا، سيزيد من التكلفة، وسيزيد من استهلاك الطاقة وسرعة سخونة الجهاز، وفي حال كان الجهاز لا يحوي مراوح مثل الهاتف الذكي، فتلك مشكلة أكبر بالنسبة لحرارة الجهاز والاستهلاك السريع لبطاريته. كما أنه ليس من الضرورة أن يتحسن الأداء بذلك. فبازدياد سعة الذاكرة ستزداد المدة اللازمة للوصول للمعلومة المطلوبة فيها.

* كرت الشاشة (GPU):  وهو في واقعه شبيه بالمعالج، يحوي العديد من الأنوية (cores) والتي يمكنها القيام بالعمليات الحسابية، ولكنها مخصصة لحساب القيم التي يجب أن تأخذها البيكسلات على الشاشة وبشكل سريع جدًا.  ونتحدث هنا عن ثلاث قيم للألوان الثلاث الرئيسية RGB، وهي في الواقع ثلاث مصفوفات، تحوي كل مصفوفة قيم أحد الألوان لكل بيكسل. لذا يجب على المعالجات الخاصة بكرت الشاشة أن تكون مخصصة وسريعة في حساب المصفوفات، وكذلك في حساب الأرقام ذات الفاصلة العشرية، حيث تكون معظم القيم التي تعبر عن الموقع عادة ذات فاصلة عشرية. أقصد بالموقع هنا موقع العناصر والتي يجب أن تظهر على الشاشة.

    الفرق بين الـ CPU والـ GPU، هو أننا إذا أعطينا مثلًا ثلاث أعداد ذات فاصلة عشرية وأردنا حساب ناتج جمعها، فسيجري المعالج (CPU) تلك العملية بشكل أسرع من كرت الشاشة. ولكن إذا كان لدينا مليون عملية من تلك النوع، فبفضل الأنوية الكثيرة والتي تعمل فعليًا بشكل متوازي أي معًا بنفس الوقت، فسيجري كرت الشاشة المليون عملية تلك بشكل أسرع من المعالج.

    يُستخدم كرت الشاشة كثيرًا في مشاريع تعلم الآلة (ما يُدعى اليوم بالذكاء الصنعي)، وذلك بسبب الأنوية الكثيرة والتي تعمل معًا، وبسبب أن كرت الشاشة مخصص لحساب المصفوفات، تلك المصفوفات المستخدمة كثيرًا في مجال تعلم الآلة، لذا يكون تدريب مودل تعلم الآلة وتشغيله باستخدام كرت الشاشة أسرع من القيام بذلك باستخدام المعالج cpu.

    يحوي كرت الشاشة ذاكرة مضمنة في الشريحة الخاصة به، ذاكرة مؤقتة أيضًا ولكنها بسعة كبيرة بسبب القيم الكثيرة التي يجب أن تُعطى لكل بيكسل على الشاشة والتي يجب أن تُحسب. تكون سعة تلك الذاكرة من 8 لـ 10 جيغابايت، وقد تكون أكثر من ذلك. 

    وتكون الأسلاك الموصلة (buses) لتلك الذواكر أكثر وأعرض بحيث تنقل البيانات بشكل أسرع من الأسلاك الموصلة بالذاكرة الرئيسية للحاسوب، تكون تلك السرعة في ذاكرة كرت الشاشة 16 جيغابايت في الثانية، أو أكثر!.

    قد يحوي كرت الشاشة على عدة منافذ تسمح بتوصيل جهاز عرض به، منها منفذ  HDMI و DVI و Display port. تختلف تلك المنافذ بسرعة نقل البيانات وبالتالي بسرعة تحديث الصورة (البيكسلات) على الشاشة، حيث يكون للمنفذين المذكورين أخيرًا سرعة تحديث للصورة تصل لـ 144 هيرتز، بعبارة أخرى يمكن عرض المقاطع بسرعة 144 صورة في الثانية، ويمتاز Display port و HDMI بإمكانية نقل الصوت أيضًا وليس فقط الصورة كما في منفذ DVI. المنفذ الأكثر شيوعًا وقد تجده في حاسوبك المحمول هو HDMI،  وتكون سرعة تحديث الصورة من خلاله 60 هيرتز أي 60 صورة في الثانية.

    بالعودة لحديثنا عن السيرفر، قد لا تتطلب معظم السيرفرات كرت شاشة مستقل، فإذا كان السيرفر لغرض إدارة قواعد البيانات، ولا يحوي مهام ذات صلة بالجرافيك، فيكفي في تلك الحالة كرت شاشة مدمج. ولكن إذا أردنا استخدام السيرفر كما ذكرت لمهام تعلم الآلة حيث الحسابات المصفوفية الكبيرة والتي تتطلب كرت شاشة، أو لمهام تتطلب معالجات كثيرة للرسوميات، عندها يجب توفر كرت شاشة مستقل وبمواصفات عالية.

* التبريد: بسبب طبيعة عمل السيرفر طيلة الـ 24 ساعة يوميًا، والموارد العالية عادة التي تكون له، فيتطلب استخدام طرق لمزيد من التبريد، وعدم الاعتماد فقط على مروحة أو مراوح صغيرة بداخله، لذا يوضع عادة السيرفر بحجرة (كبينة) مخصصة للأجهزة التقنية وتبريدها، كما يظهر في الصورة أدناه، ويوجد منها أحجام مختلفة بحسب الطلب.


![server-cabinet](/assets/img/posts/server-cabinet.webp)

* عوامل الأمان: وتنقسم لعوامل الأمان التقنية والفيزيائية. بالنسبة للتقنية فتتضمن تشفير أقراص التخزين، والإقلاع الآمن (secure boot) و trusted platform modules. ولا نتحدث هنا عن طرق الحماية برمجيًا، فمقالنا عن الأجهزة والقطع (hardware). أما بالنسبة للعامل الفيزيائي فيتطلب حماية الغرفة المراد وضع السيرفر بها، وذلك مثلًا بوضع أقفال ذكية على أبواب الغرفة وبرمز سري بحيث تمنع دخول غير المعنيين للغرفة.

* حقيبة السيرفر (server chassis): وهي ليست كالكبينة المذكورة سابقًا والتي يمكن أن يوضع بها عدة أجهزة تقنية لتبريدها، بل نتحدث هنا عن حقيبة الحاسوب، والتي نعرفها عادة بالشكل العامودي (والذي يسمى tower case) كما في الصورة أدناه:

![computer-case](/assets/img/posts/computer-case.webp)

   ومنها ما هو أفقي. تتميز الحقيبة الخاصة بالسيرفر بوجود حجرات مخصصة لإضافة أقراص تخزين إضافية أو ذواكر مؤقتة إضافية بسهولة، بدون فك كامل الحقيبة لعمل ذلك.

لا بد من شراء قطع احتياط للسيرفر، مثل قطعة إضافية للـ power supply، فلو تعطلت القطعة في السيرفر، يتم يتبديلها مباشرة بالقطعة الاحتياط، وبهذا لا يتعطل نشاطك التجاري لوقت طويل. وفي الواقع، توضع دائمًا قطع احتياط بداخل حقيبة السيرفر، أي يوضع في مثالنا عن الـ power supply اثنان منها في حقيبة السيرفر، ويُشغَّل السيرفر بكليهما، بحيث إذا تعطلت واحدة يبقى السيرفر يعمل دون أي انقطاع، ويتم استبدال القطعة الخربة والسيرفر قيد العمل.
كذلك لا بد من أخذ انقطاع التيار الكهربائي في الحسبان، يُستخدم لذلك عادة جهاز UPS، وهو عبارة عن بطارية تحوي محول يعطي طاقة بتواتر 220V، أي ما يحتاجه السيرفر، ويوصل السيرفر مباشرة على الـ UPS الذي يوصل بدوره بالكهرباء، إذا انقطعت الكهرباء يبقى الـ UPS يزود السيرفر بالطاقة دون أي انقطاع.

وفي النهاية، يمكنك عزيزي القارئ طلب جلسة استشارية مدفوعة لتحديد متطلبات عملك واقتراح مواصفات السيرفر بناء على المتطلبات والميزانية المرصودة. كما يمكنك طلب خدمة لنتكفل بتوريد وتركيب وتشغيل كل ما تريد. يتم التركيب داخل المملكة العربية السعودية. تواصل معنا مباشرة عبر زر الواتس أب الظاهر على الشاشة، أو عبر البريد الإلكتروني mirsal@rawajit.com
